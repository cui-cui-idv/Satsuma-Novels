<%- include('partials/header') %>

<main class="container">
    <h2>#<%= tagName %> の小説一覧</h2>

    <% if (novels && novels.length > 0) { %>
        <div class="grid-container" style="margin-top: 2rem;">
            <% novels.forEach(novel => { %>
                <div class="card card-clickable" data-href="/novels/<%= novel.id %>">
                    <h4 class="card-title"><%= novel.title %></h4>
                    
                    <p style="flex-grow: 1; font-size: 0.9rem; color: var(--font-secondary);">
                        <%= novel.description ? novel.description.substring(0, 100) + '...' : 'あらすじはありません' %>
                    </p>

                    <small class="card-author">
                        <a href="/users/@<%= novel.authorHandle %>">作者: <%= novel.authorName %></a>
                    </small>
                </div>
            <% }) %>
        </div>
    <% } else { %>
        <div class="card" style="margin-top: 2rem; text-align: center;">
            <p>このタグが付いた公開作品はまだありません。</p>
        </div>
    <% } %>
</main>

<%- include('partials/footer') %>